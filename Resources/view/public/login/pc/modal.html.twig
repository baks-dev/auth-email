{% trans_default_domain 'public.login' %}

<div class="modal-dialog modal-dialog-centered" style="--bs-modal-width: 700px;">

    <div class="modal-content p-3 border-bottom border-5 border-primary">
        {{ form_start(form) }}
        <div class="modal-header border-0">
            <h3 class="modal-title text-uppercase h4 fw-bold">Авторизуйтесь</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
        </div>

        <div class="modal-body">
            <div class="d-flex justify-content-between gap-3">
                <div class="w-100">
                    {{ form_label(form.email, 'form.label.email', { attr: { class: 'mb-0' } }) }}
                    {{ form_widget(form.email, { attr : { class: 'rounded-4' } }) }}
                </div>
                <div class="w-100">
                    {{ form_label(form.password, 'form.label.password', { attr: { tabindex : "-1", class: 'mb-0' } }) }}
                    {{ form_widget(form.password, { attr : { class: 'rounded-4' } }) }}
                </div>
            </div>

        </div>

        <div class="modal-footer border-0 d-flex flex-grow-3">

            <ul class="d-flex gap-3 list-unstyled">
                <li>
                    <a href="{{ path('auth-email:public.registration') }}" class="text-decoration-none"
                       aria-label="Регистация"> {{ 'page'|trans({}, 'public.reg') }}</a>
                </li>
                <li>
                    <a href="{{ path('auth-email:public.restore') }}" class="text-decoration-none"
                       aria-label="Забыли пароль?">{{ 'form.label.question'|trans({}, 'public.restore') }}  </a>
                </li>
            </ul>

            {# <button type="submit" class="btn btn-danger btn-lg ms-auto ">Войти</button> #}

            {{ form_widget(form.login, {
                label: '<span>'~ 'btn.save'|trans() ~'</span>
                            <span id="'~form.login.vars.id~'-progress" class="spinner-border spinner-border-sm d-none"></span>
                        ',
                attr: { class : 'btn btn-lg btn-primary rounded-3 text-uppercase fw-bolder ms-auto' }
            }) }}

        </div>


        <div class="d-flex justify-content-center gap-3 border-top">

            {% if constant('BaksDev\\Auth\\Telegram\\Type\\Event\\AccountTelegramEventUid::TYPE') is defined %}

                <div class="mt-3">
                    <a href="{{ path('auth-telegram:public.auth') }}"
                       class="btn btn-link btn-sm modal-link"
                       title="Авторизация Telegram"
                    >
                        <span class="icon rounded-2 mb-2 ">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     width="25"
                                     height="25"
                                     fill="currentColor"
                                     class="text-primary" viewBox="0 0 16 16">
                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.287 5.906q-1.168.486-4.666 2.01-.567.225-.595.442c-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294q.39.01.868-.32 3.269-2.206 3.374-2.23c.05-.012.12-.026.166.016s.042.12.037.141c-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8 8 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629q.14.092.27.187c.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.4 1.4 0 0 0-.013-.315.34.34 0 0 0-.114-.217.53.53 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09"/>
                            </svg>
                        </span>
                    </a>
                </div>
            {% endif %}

            {# Иконка авторизации через Google #}
            {% if constant('BaksDev\\Auth\\Google\\Type\\Event\\AccountGoogleEventUid::TYPE') is defined %}

                <div class="mt-3">
                    <a href="https://accounts.google.com/o/oauth2/v2/auth?client_id=567605243740-3blqqe8nn55cjt71vkgo0fv08akk4m8k.apps.googleusercontent.com&response_type=code&redirect_uri=https%3A//ann.baks.dev/google/auth&scope=openid+email+profile"
                       class="btn btn-link btn-sm"
                       id="google-auth-link"
                       title="Авторизация Google"

                    >
                        <span class="icon rounded-2 mb-2 ">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 viewBox="0 0 48 48"
                                 xmlns:xlink="http://www.w3.org/1999/xlink"
                                 width="25"
                                 height="25"
                                 fill="currentColor">
                                <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path>
                                <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path>
                                <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path>
                                <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path>
                                <path fill="none" d="M0 0h48v48H0z"></path>
                            </svg>
                        </span>
                    </a>
                </div>
            {% endif %}

            {# Иконка авторизации через Google #}
            {% if constant('BaksDev\\Auth\\Google\\Type\\Event\\AccountGoogleEventUid::TYPE') is defined %}

                <div class="mt-3">
                    <a href="https://accounts.google.com/o/oauth2/v2/auth?client_id=567605243740-3blqqe8nn55cjt71vkgo0fv08akk4m8k.apps.googleusercontent.com&response_type=code&redirect_uri=https%3A//ann.baks.dev/google/auth&scope=openid+email+profile"
                       class="btn btn-link btn-sm"
                       id="google-auth-link"
                       title="Авторизация Google"

                    >
                        <span class="icon rounded-2 mb-2 ">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 viewBox="0 0 48 48"
                                 xmlns:xlink="http://www.w3.org/1999/xlink"
                                 width="25"
                                 height="25"
                                 fill="currentColor">
                                <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path>
                                <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path>
                                <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path>
                                <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path>
                                <path fill="none" d="M0 0h48v48H0z"></path>
                            </svg>
                        </span>
                    </a>
                </div>
            {% endif %}

        </div>

        {{ form_end(form) }}
    </div>
</div>